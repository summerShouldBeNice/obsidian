参考
	轻流零售进销存 https://qingflow.com
	crmeb https://github.com/crmeb/crmeb_java
项目介绍：
	该项目是一个基于Spring Boot开发的前后端分离的企业CRM系统，给企业提供了一整套完整的进销存业务，提供了应用端，后台管理端；我个人在项目中主要负责的是后台管理的前后端开发，主要负责的模块是用户模块，采购模块，销售模块还有库存模块；
	项目使用Spring Security进行权限管理，通过rbac模型来进行按钮级别权限的操作控制；
	**采购模块**包含了采购订单，采购入库，采购退货等若干个子模块，主要的业务流程是：创建采购订单 > 采购订单审核 > 采购订单提交到仓库模块记录入库 > 库存模块改变库存 ，其中在采购订单审核这部分使用了mq，用户提交了订单后，系统可以触发一个消息到MQ，通知仓库模块进行入库操作。这个消息可以包含订单的相关信息，如订单号、商品信息等。
	**销售模块**包含了普通销售管理和零售管理两个子模块，具体的业务流程是：客户订单创建 >  （这部分在审批模块中进行）【库存检查 > 根据客户的消费等级和优惠券来判断优惠】 > 订单审核 > 商品出库 > 减少库存， 一整套业务完成后为用户添加消费积分；库存检查的时候如果此时购买后库存低于临界值则会触发预警，会发一条消息到MQ中给预警模块，用户的消费等级是缓存在redis里，如果都没问题就使用发一条消息到MQ通知仓库模块和库存模块进行业务
	因为不是财务这种需要多部门联合审批的工作流，所以销售和采购的审批都是以事件驱动的方式来设计的，在审批服务中，执行简单的审批逻辑。这可以包括验证订单的合规性、检查库存、计算优惠等。如果一切正常，可以将订单标记为已审批。
	财务模块负责审核财务和财务报表
	**用户模块**包含了供应商和客户的管理，提供了对供应商和客户的添加，审核，认证
	redis用户缓存token，字典，配置信息，热门商品，排行榜，
	
crm系统设计的难点：
	1. mq中为了保证数据一致性，也就是消息的幂等性，针对普通消息，可以进行消息去重，或者使用mq的消息应答机制，这里使用的是mq的手动应答在编码中使用channel.basicAsk()进行手动应答
	（分布式）事务消息，在发送事务消息时，消息发送方先发送一条**半事务消息**，等到消息处理完毕之后再发送一条确认消息。只有确认消息发送成功，半事务消息才算发送成功，否则半事务消息将在一定时间内重发，直到发送成功或者达到最大重试次数。通过这种方式可以避免消息重复发送或重复处理。这涉及到分布式
2. redis缓存失效问题，有时候redis会挂，所以得配置redis的主从复制，
3. mysql中为了保证数据一致使用了乐观锁机制，加入了版本号查询的时候进行比对 